<!DOCTYPE html>
<html class="scroll-nice">
<head>
	<title>Emotion Music</title>

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="theme-color" content="#212121">
	<meta name="msapplication-navbutton-color" content="#212121">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

	<link href="main.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-rc.2/css/materialize.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/css/print/paper.min.css">
	<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
	<link href="https://fonts.googleapis.com/css?family=Open+Sans|Raleway:600,700" rel="stylesheet">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/typeit/6.0.1/typeit.min.js"></script>
	<script src="https://unpkg.com/scrollreveal/dist/scrollreveal.min.js"></script>
</head>
<body style="background: #130B17; overflow-x: hidden; overflow-y: scroll;">

	<canvas id="canvas" onmousemove="mousePosition(event)" style="height: 100%;"></canvas>
	
	<div id="search">
		<p class="title-font grey-text text-lighten-4 fsize-m center-align">Search for <span id="buzzwords"></span></p>
		<div id="query-container" class="flex-container">
			<input autocomplete="off" id="query" type="text" name="query" class="grey-text text-lighten-4 para-font">
			<i class="material-icons para-font grey-text text-lighten-4">search</i>
		</div>
	</div>

	<div class="space-20"></div>

	<div style="background: #130B17; height: 2000px;">
			<div class="grey-text text-lighten-4 container">
				<div class="title-font reveal-fast fsize-l">
					About
				</div>
				<div class="space-5"></div>
				<div class="para-font reveal-slow fsize-m-">
					Nullam quis ante. Cras id dui. Donec sodales sagittis magna. Etiam rhoncus. Donec posuere vulputate arcu.

Vestibulum facilisis, purus nec pulvinar iaculis, ligula mi congue nunc, vitae euismod ligula urna in dolor. Duis vel nibh at velit scelerisque suscipit. Praesent adipiscing. Aliquam eu nunc. Phasellus gravida semper nisi.

Aenean imperdiet. Ut varius tincidunt libero. Etiam sollicitudin, ipsum eu pulvinar rutrum, tellus ipsum laoreet sapien, quis venenatis ante odio sit amet eros. Aliquam lorem ante, dapibus in, viverra quis, feugiat a, tellus. Fusce ac felis sit amet ligula pharetra condimentum.

Duis leo. Quisque id odio. Curabitur at lacus ac velit ornare lobortis. In ut quam vitae odio lacinia tincidunt. Cras non dolor.

Etiam ultricies nisi vel augue. Maecenas tempus, tellus eget condimentum rhoncus, sem quam semper libero, sit amet adipiscing sem neque sed ipsum. Vestibulum eu odio. Mauris turpis nunc, blandit et, volutpat molestie, porta ut, ligula. Nam eget dui.
				</div>
			</div>
	</div>

</body>

	<script>

var canvas = document.getElementById("canvas");
var ctx = canvas.getContext("2d");
var width = canvas.width;
var height = canvas.height;
var circles = [];
var xp = 0;
var yp = 0;

window.sr = ScrollReveal({ reset: true });

sr.reveal('.reveal-fast', { duration: 1000 });
sr.reveal('.reveal-slow', { duration: 1500 });
sr.reveal('.reveal-slower', { duration: 2000 });

new TypeIt('#buzzwords', {
  strings: ["an Emotion.", "a Genre.", "a Musician.", "a Year."],
  startDelay: 1000,
  speed: 70,
  nextStringDelay: 2500,
  breakLines: false,
  waitUntilVisible: true,
  loop: true,
  lifeLike: true
}).go();

function mousePosition(e) {
	xp = e.clientX;
	yp = e.clientY + window.pageYOffset;
	getHover();
}

function getHover() {
	for (var i = circles.length - 1; i > 0; i--) {
		if (Math.pow(Math.pow((xp - circles[i].x + circles[i].xs), 2) + Math.pow((yp - circles[i].y + circles[i].ys), 2), .5) < circles[i].rad + circles[i].radex) {
			circles[i].hover = 1;
			for (var c = i - 1; c > 0; c--) {
				circles[c].hover = 0;
			}
			return;
		} else {
			circles[i].hover = 0;
		}
	}
}

class Circle {
	constructor(x, y, rad, r, g, b) {
		this.x = x;
		this.y = y;

		this.rad = rad;
		this.radex = 0;
		this.hover = 0;

		this.r = r;
		this.g = g;
		this.b = b;

		this.s = 0;
		this.xs = 0;
		this.ys = 0;
		this.xm = Math.random() * .01;
		this.ym = Math.random() * .01;
		this.xa = Math.random() * 2 + 4 + this.rad * .05;
		this.ya = Math.random() * 2 + 4 + this.rad * .05;
	}

	calcPos() {
		this.xs = Math.sin(this.s * this.xm) * this.xa;
		this.ys = Math.sin(this.s * this.ym) * this.ya;
		this.s++;
		if (!this.s % 1500) {
			this.s = 0;
			this.xm = Math.random() * .025;
			this.ym = Math.random() * .025;
			this.xa = Math.random() * 2 + 4 + this.rad * .05;
			this.ya = Math.random() * 2 + 4 + this.rad * .05;
		}

		if (this.hover && this.radex < this.rad * .2) {
			this.radex++;
		} else if (!this.hover && this.radex > 0) {
			this.radex--;
		}
	}

	draw(a) {
		this.calcPos();
		ctx.beginPath();

		var grd = ctx.createLinearGradient(this.x - this.rad, this.y - this.rad, this.x + this.rad, this.y + 10);
		grd.addColorStop(0, "rgba(" + (this.r + 30) + "," + (this.g + 30) + "," + (this.b + 30) + "," + a + ")");
		grd.addColorStop(1, "rgba(" + this.r + "," + this.g + "," + this.b + "," + a + ")");
		ctx.fillStyle = grd;

		// ctx.fillStyle = "rgba(" + this.r + "," + this.g + "," + this.b + "," + a + ")";
		ctx.strokeStyle = "#111111";
		// ctx.lineWidth = 10;
		ctx.arc(this.x + this.xs, this.y + this.ys, this.rad + this.radex, 0, 2 * Math.PI);
		ctx.fill();
		// ctx.stroke();
		ctx.closePath();
	}
}

function init() {
	for (var i = 0; i < 10; i++) {
		var brightness = Math.random() * 60;
		circles.push(new Circle(Math.random() * (width - 200) + 100, Math.random() * (height - 200) + 100, Math.random() * window.innerWidth / 27 + window.innerWidth / 27, Math.random() * 7 + 60 + brightness, Math.random() * 7 + 60 + brightness, Math.random() * 7 + 60 + brightness));
	}
}

function getOpacityOverlay() {
	if (window.pageYOffset < window.innerHeight) {
		return 3 * Math.pow(window.pageYOffset / window.innerHeight, 3);
	}
	return 1;
}

function update() {
	if (canvas.width != window.innerWidth || canvas.height != window.innerHeight) {
		canvas.width = window.innerWidth;
		canvas.height = window.innerHeight;
		width = canvas.width;
		height = canvas.height;
	}

	ctx.clearRect(0, 0, width, height);

	ctx.beginPath();
	var grd = ctx.createLinearGradient(0, 0, 0, height);
	grd.addColorStop(0, "#303031");
	grd.addColorStop(1, "#130B17");
	ctx.fillStyle = grd;
	ctx.fillRect(0, 0, width, height);
	ctx.closePath();

	for (var i = 0; i < circles.length; i++) {
		circles[i].draw(.9);
	}

	ctx.beginPath();
	ctx.fillStyle = "rgba(19, 11, 23, " + getOpacityOverlay() + ")";
	ctx.fillRect(0, 0, width, height);
	ctx.closePath();
}

update();
init();
setInterval(update,10);

</script>


</html>